<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: UmlClassDiagram Pages: 1 -->
<svg width="5518pt" height="2293pt"
 viewBox="0.00 0.00 5518.49 2293.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 2289)">
<title>UmlClassDiagram</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-2289 5514.4937,-2289 5514.4937,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2162.5601,-.5 2162.5601,-511.7 3191.8101,-511.7 3191.8101,-.5 2162.5601,-.5"/>
<text text-anchor="middle" x="2677.1851" y="-495.1" font-family="Times,serif" font-size="14.00" fill="#000000">Options</text>
<polyline fill="none" stroke="#000000" points="2162.5601,-486.9 3191.8101,-486.9 "/>
<text text-anchor="start" x="2170.5601" y="-470.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="2170.5601" y="-453.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;options: Option[]</text>
<text text-anchor="start" x="2170.5601" y="-436.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionsLP: OptionsLP</text>
<text text-anchor="start" x="2170.5601" y="-419.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;protocolFeeRecipient: address</text>
<text text-anchor="start" x="2170.5601" y="-403.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;protocolFee: uint</text>
<text text-anchor="start" x="2170.5601" y="-386.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;CONTRACT_CALLER_ROLE: bytes32</text>
<text text-anchor="start" x="2170.5601" y="-369.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;commitHash: string</text>
<polyline fill="none" stroke="#000000" points="2162.5601,-361.3 3191.8101,-361.3 "/>
<text text-anchor="start" x="2170.5601" y="-344.7" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="2170.5601" y="-327.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_createOption(holder: address, period: uint256, optionSize: uint256, strike: uint256, optionType: OptionType, poolId: uint256, oracle: IOracle, _premium: Fees): (option: Option)</text>
<text text-anchor="start" x="2170.5601" y="-311.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;payProfit(optionID: uint): (profit: uint)</text>
<text text-anchor="start" x="2170.5601" y="-294.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;sqrt(x: uint256): uint256</text>
<text text-anchor="start" x="2170.5601" y="-277.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="2170.5601" y="-260.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getProtocolFee(period: uint256, optionSize: uint256, strike: uint256, currentPrice: uint256, optionType: OptionType, poolId: uint, oracle: IOracle): uint256</text>
<text text-anchor="start" x="2170.5601" y="-243.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getStrikeFee(period: uint256, optionSize: uint256, strike: uint256, currentPrice: uint256, optionType: OptionType, poolId: uint, oracle: IOracle): uint256</text>
<text text-anchor="start" x="2170.5601" y="-227.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getPeriodFee(period: uint256, optionSize: uint256, strike: uint256, currentPrice: uint256, optionType: OptionType, poolId: uint, oracle: IOracle): uint256</text>
<text text-anchor="start" x="2170.5601" y="-210.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getBalanceUtilisationFee(period: uint256, optionSize: uint256, strike: uint256, currentPrice: uint256, optionType: OptionType, poolId: uint, oracle: IOracle): uint256</text>
<text text-anchor="start" x="2170.5601" y="-193.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getPoolFee(period: uint256, optionSize: uint256, strike: uint256, currentPrice: uint256, optionType: OptionType, poolId: uint, oracle: IOracle): uint256</text>
<text text-anchor="start" x="2170.5601" y="-176.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;exercise(optionID: uint256)</text>
<text text-anchor="start" x="2170.5601" y="-159.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;transfer(optionID: uint256, newHolder: address)</text>
<text text-anchor="start" x="2170.5601" y="-143.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="2170.5601" y="-126.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(_protocolFeeRecipient: address, _optionsLP: OptionsLP, name: string, symbol: string, _commitHash: string)</text>
<text text-anchor="start" x="2170.5601" y="-109.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;premium(period: uint256, optionSize: uint256, strike: uint256, optionType: OptionType, poolId: uint, oracle: IOracle): (_premium: Fees)</text>
<text text-anchor="start" x="2170.5601" y="-92.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;fees(period: uint256, optionSize: uint256, strike: uint256, optionType: OptionType, poolId: uint, oracle: IOracle): (_fees: Fees)</text>
<text text-anchor="start" x="2170.5601" y="-75.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;create(holder: address, period: uint256, optionSize: uint256, strike: uint256, optionType: OptionType, poolId: uint256, oracle: IOracle): (optionID: uint256)</text>
<text text-anchor="start" x="2170.5601" y="-59.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;latestAnswer(oracle: IOracle): uint256</text>
<text text-anchor="start" x="2170.5601" y="-42.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;unlock(optionID: uint256)</text>
<text text-anchor="start" x="2170.5601" y="-25.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;unlockAll(optionIDs: uint256[])</text>
<text text-anchor="start" x="2170.5601" y="-8.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;supportsInterface(interfaceId: bytes4): bool</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1424.3577,-548.7 1424.3577,-1563.9 2324.0125,-1563.9 2324.0125,-548.7 1424.3577,-548.7"/>
<text text-anchor="middle" x="1874.1851" y="-1547.3" font-family="Times,serif" font-size="14.00" fill="#000000">OptionsLP</text>
<polyline fill="none" stroke="#000000" points="1424.3577,-1539.1 2324.0125,-1539.1 "/>
<text text-anchor="start" x="1432.3577" y="-1522.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="1432.3577" y="-1505.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;poolCount: uint256</text>
<text text-anchor="start" x="1432.3577" y="-1488.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;oracle: mapping(uint256=&gt;IOracle)</text>
<text text-anchor="start" x="1432.3577" y="-1472.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;collateralToken: mapping(uint256=&gt;IERC20)</text>
<text text-anchor="start" x="1432.3577" y="-1455.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;hedgeToken: mapping(uint256=&gt;IERC20)</text>
<text text-anchor="start" x="1432.3577" y="-1438.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;swapFactory: mapping(uint256=&gt;IUniswapV2Factory)</text>
<text text-anchor="start" x="1432.3577" y="-1421.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;swapRouter: mapping(uint256=&gt;IUniswapV2Router02)</text>
<text text-anchor="start" x="1432.3577" y="-1404.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;swapBalanceOf: mapping(uint256=&gt;uint256)</text>
<text text-anchor="start" x="1432.3577" y="-1388.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;collateralReserves: mapping(uint256=&gt;uint256)</text>
<text text-anchor="start" x="1432.3577" y="-1371.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;hedgeReserves: mapping(uint256=&gt;uint256)</text>
<text text-anchor="start" x="1432.3577" y="-1354.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;lockedCollateralCall: mapping(uint256=&gt;uint256)</text>
<text text-anchor="start" x="1432.3577" y="-1337.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;lockedCollateralPut: mapping(uint256=&gt;uint256)</text>
<text text-anchor="start" x="1432.3577" y="-1320.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;lockedCollateral: LockedCollateral[]</text>
<text text-anchor="start" x="1432.3577" y="-1304.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;poolOwner: mapping(uint256=&gt;address)</text>
<text text-anchor="start" x="1432.3577" y="-1287.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;poolOperator: mapping(uint256=&gt;address)</text>
<text text-anchor="start" x="1432.3577" y="-1270.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;poolFeeCalc: mapping(uint256=&gt;IFeeCalcs)</text>
<text text-anchor="start" x="1432.3577" y="-1253.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;poolFee: mapping(uint256=&gt;uint256)</text>
<text text-anchor="start" x="1432.3577" y="-1236.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;ipfsHash: mapping(uint256=&gt;string)</text>
<text text-anchor="start" x="1432.3577" y="-1220.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;readOnly: mapping(uint256=&gt;bool)</text>
<text text-anchor="start" x="1432.3577" y="-1203.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;maxInvest: mapping(uint256=&gt;uint256)</text>
<text text-anchor="start" x="1432.3577" y="-1186.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;periodMin: mapping(uint256=&gt;uint256)</text>
<text text-anchor="start" x="1432.3577" y="-1169.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;periodMax: mapping(uint256=&gt;uint256)</text>
<text text-anchor="start" x="1432.3577" y="-1152.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;lockupPeriod: mapping(uint256=&gt;uint256)</text>
<text text-anchor="start" x="1432.3577" y="-1136.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;collateralizationRatio: mapping(uint256=&gt;uint256)</text>
<text text-anchor="start" x="1432.3577" y="-1119.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;oracleEnabled: mapping(IOracle=&gt;mapping(uint256=&gt;bool))</text>
<text text-anchor="start" x="1432.3577" y="-1102.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;lastProvideTimestamp: mapping(uint256=&gt;mapping(address=&gt;uint256))</text>
<text text-anchor="start" x="1432.3577" y="-1085.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;optionsLP1155: OptionsLP1155</text>
<text text-anchor="start" x="1432.3577" y="-1068.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;INITIAL_RATE: uint256</text>
<text text-anchor="start" x="1432.3577" y="-1052.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;CONTRACT_CALLER_ROLE: bytes32</text>
<text text-anchor="start" x="1432.3577" y="-1035.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;commitHash: string</text>
<polyline fill="none" stroke="#000000" points="1424.3577,-1027.1 2324.0125,-1027.1 "/>
<text text-anchor="start" x="1432.3577" y="-1010.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="1432.3577" y="-993.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;provide(account: address, _poolId: uint, collateralAmount: uint256): (mintedLP1155Tokens: uint256)</text>
<text text-anchor="start" x="1432.3577" y="-976.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;withdraw(account: address, _poolId: uint, burnLP1155Tokens: uint256): (burnSwapTokens: uint256)</text>
<text text-anchor="start" x="1432.3577" y="-960.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setPoolOwner(poolId: uint, value: address)</text>
<text text-anchor="start" x="1432.3577" y="-943.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setPoolOperator(poolId: uint, value: address)</text>
<text text-anchor="start" x="1432.3577" y="-926.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setPoolFeeCalc(poolId: uint, value: IFeeCalcs)</text>
<text text-anchor="start" x="1432.3577" y="-909.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setPoolFee(poolId: uint, value: uint256)</text>
<text text-anchor="start" x="1432.3577" y="-892.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setIpfsHash(poolId: uint, value: string)</text>
<text text-anchor="start" x="1432.3577" y="-876.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setReadOnly(poolId: uint, value: bool)</text>
<text text-anchor="start" x="1432.3577" y="-859.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setMaxInvest(poolId: uint, value: uint256)</text>
<text text-anchor="start" x="1432.3577" y="-842.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setPeriodMin(poolId: uint, value: uint256)</text>
<text text-anchor="start" x="1432.3577" y="-825.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setPeriodMax(poolId: uint, value: uint256)</text>
<text text-anchor="start" x="1432.3577" y="-808.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setLockupPeriod(poolId: uint, value: uint256)</text>
<text text-anchor="start" x="1432.3577" y="-792.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setCollaterizationRatio(poolId: uint, value: uint256)</text>
<text text-anchor="start" x="1432.3577" y="-775.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setOracleEnabled(poolId: uint, _oracle: IOracle, value: bool)</text>
<text text-anchor="start" x="1432.3577" y="-758.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="1432.3577" y="-741.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(_optionsLP1155: OptionsLP1155, _commitHash: string)</text>
<text text-anchor="start" x="1432.3577" y="-724.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;createPool(_oracle: IOracle, _collateralToken: IERC20, _hedgeToken: IERC20, _swapFactory: IUniswapV2Factory, _swapRouter: IUniswapV2Router02)</text>
<text text-anchor="start" x="1432.3577" y="-708.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;lock(optionId: uint, optionSize: uint256, _premium: IFeeCalcs.Fees, poolId: uint, optionType: OptionType)</text>
<text text-anchor="start" x="1432.3577" y="-691.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;unlock(optionId: uint256)</text>
<text text-anchor="start" x="1432.3577" y="-674.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;send(optionId: uint, to: address, amount: uint256)</text>
<text text-anchor="start" x="1432.3577" y="-657.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;poolTotalCollateralBalance(_poolId: uint): uint256</text>
<text text-anchor="start" x="1432.3577" y="-640.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;poolAvailableCollateralBalance(_poolId: uint): uint256</text>
<text text-anchor="start" x="1432.3577" y="-624.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;poolUtilisation(_poolId: uint): uint256</text>
<text text-anchor="start" x="1432.3577" y="-607.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;putRatio(_poolId: uint): uint256</text>
<text text-anchor="start" x="1432.3577" y="-590.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;callRatio(_poolId: uint): uint256</text>
<text text-anchor="start" x="1432.3577" y="-573.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;resetDeltaReserves(_poolId: uint, resetCollateral: bool)</text>
<text text-anchor="start" x="1432.3577" y="-556.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setDeltaHedge(_poolId: uint, percent: uint, _toCollateral: bool): (collateralAmount: uint, hedgeAmount: uint, swapAmounts: uint[])</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge11" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M2420.6268,-511.7637C2391.842,-540.4481 2361.9092,-570.2765 2331.5417,-600.5382"/>
<polygon fill="#000000" stroke="#000000" points="2328.8429,-598.2864 2324.2301,-607.8243 2333.7841,-603.2448 2328.8429,-598.2864"/>
</g>
<!-- 4 -->
<g id="node8" class="node">
<title>4</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3879.1493,-2142.9 3879.1493,-2284.5 4045.2209,-2284.5 4045.2209,-2142.9 3879.1493,-2142.9"/>
<text text-anchor="middle" x="3962.1851" y="-2267.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="3962.1851" y="-2251.1" font-family="Times,serif" font-size="14.00" fill="#000000">IOracle</text>
<polyline fill="none" stroke="#000000" points="3879.1493,-2242.9 4045.2209,-2242.9 "/>
<text text-anchor="middle" x="3962.1851" y="-2226.3" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="3879.1493,-2218.1 4045.2209,-2218.1 "/>
<text text-anchor="start" x="3887.1493" y="-2201.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="3887.1493" y="-2184.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;decimals(): uint8</text>
<text text-anchor="start" x="3887.1493" y="-2167.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;description(): string</text>
<text text-anchor="start" x="3887.1493" y="-2151.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;latestAnswer(): uint256</text>
</g>
<!-- 0&#45;&gt;4 -->
<g id="edge12" class="edge">
<title>0&#45;&gt;4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3192.0086,-446.6501C3662.757,-651.7889 4330.1341,-1027.8696 4631.1851,-1600.4 4685.0068,-1702.7566 4690.8975,-1761.5643 4631.1851,-1860.6 4504.6956,-2070.3883 4207.3603,-2161.922 4055.2999,-2196.1517"/>
<polygon fill="#000000" stroke="#000000" points="4054.5032,-2192.7433 4045.4974,-2198.3242 4056.0178,-2199.5775 4054.5032,-2192.7433"/>
</g>
<!-- 5 -->
<g id="node9" class="node">
<title>5</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1902.3329,-1642.9 1902.3329,-1818.1 2916.0373,-1818.1 2916.0373,-1642.9 1902.3329,-1642.9"/>
<text text-anchor="middle" x="2409.1851" y="-1801.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="2409.1851" y="-1784.7" font-family="Times,serif" font-size="14.00" fill="#000000">IFeeCalcs</text>
<polyline fill="none" stroke="#000000" points="1902.3329,-1776.5 2916.0373,-1776.5 "/>
<text text-anchor="middle" x="2409.1851" y="-1759.9" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="1902.3329,-1751.7 2916.0373,-1751.7 "/>
<text text-anchor="start" x="1910.3329" y="-1735.1" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="1910.3329" y="-1718.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getProtocolFee(period: uint256, optionSize: uint256, strike: uint256, currentPrice: uint256, optionType: IOptions.OptionType, poolId: uint, oracle: IOracle): uint256</text>
<text text-anchor="start" x="1910.3329" y="-1701.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getStrikeFee(period: uint256, optionSize: uint256, strike: uint256, currentPrice: uint256, optionType: IOptions.OptionType, poolId: uint, oracle: IOracle): uint256</text>
<text text-anchor="start" x="1910.3329" y="-1684.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getPeriodFee(period: uint256, optionSize: uint256, strike: uint256, currentPrice: uint256, optionType: IOptions.OptionType, poolId: uint, oracle: IOracle): uint256</text>
<text text-anchor="start" x="1910.3329" y="-1667.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getBalanceUtilisationFee(period: uint256, optionSize: uint256, strike: uint256, currentPrice: uint256, optionType: IOptions.OptionType, poolId: uint, oracle: IOracle): uint256</text>
<text text-anchor="start" x="1910.3329" y="-1651.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getPoolFee(period: uint256, optionSize: uint256, strike: uint256, currentPrice: uint256, optionType: IOptions.OptionType, poolId: uint, oracle: IOracle): uint256</text>
</g>
<!-- 0&#45;&gt;5 -->
<g id="edge9" class="edge">
<title>0&#45;&gt;5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2444.279,-511.7946C2438.2467,-523.7362 2432.8335,-535.8875 2428.1851,-548.2 2289.3933,-915.8264 2347.534,-1394.6972 2385.7027,-1612.9177"/>
<polygon fill="none" stroke="#000000" points="2375.3907,-1614.8999 2391.0484,-1642.5601 2396.0573,-1611.1729 2375.3907,-1614.8999"/>
</g>
<!-- 6 -->
<g id="node11" class="node">
<title>6</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2503.8249,-1897.1 2503.8249,-2105.9 3862.5453,-2105.9 3862.5453,-1897.1 2503.8249,-1897.1"/>
<text text-anchor="middle" x="3183.1851" y="-2089.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="3183.1851" y="-2072.5" font-family="Times,serif" font-size="14.00" fill="#000000">IOptions</text>
<polyline fill="none" stroke="#000000" points="2503.8249,-2064.3 3862.5453,-2064.3 "/>
<text text-anchor="middle" x="3183.1851" y="-2047.7" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="2503.8249,-2039.5 3862.5453,-2039.5 "/>
<text text-anchor="start" x="2511.8249" y="-2022.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="2511.8249" y="-2006.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; CreateOption(optionId: uint256, holder: address, period: uint256, optionSize: uint256, strike: uint256, optionType: OptionType, poolId: uint256, oracle: IOracle, protocolFee: uint256, poolFee: uint256, totalPremium: uint256)</text>
<text text-anchor="start" x="2511.8249" y="-1989.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; CreatePool(poolId: uint, oracle: IOracle, _collateralToken: IERC20, _hedgeToken: IERC20, _swapFactory: IUniswapV2Factory, _swapRouter: IUniswapV2Router02)</text>
<text text-anchor="start" x="2511.8249" y="-1972.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; UpdateOracle(oracle: IOracle, poolId: uint, enabled: bool)</text>
<text text-anchor="start" x="2511.8249" y="-1955.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; PoolProfit(optionId: uint, poolId: uint, amount: uint)</text>
<text text-anchor="start" x="2511.8249" y="-1938.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; PoolLoss(optionId: uint, poolId: uint, amount: uint)</text>
<text text-anchor="start" x="2511.8249" y="-1922.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Exercise(optionId: uint256, poolId: uint, profit: uint256)</text>
<text text-anchor="start" x="2511.8249" y="-1905.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; Expire(optionId: uint256, poolId: uint, premium: uint256)</text>
</g>
<!-- 0&#45;&gt;6 -->
<g id="edge10" class="edge">
<title>0&#45;&gt;6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2727.292,-511.7485C2779.5344,-781.8191 2862.3991,-1220.3453 2925.1851,-1600.4 2944.2343,-1715.7083 2899.8141,-1762.4013 2963.1851,-1860.6 2966.1248,-1865.1553 2969.2696,-1869.5924 2972.594,-1873.9124"/>
<polygon fill="none" stroke="#000000" points="2964.9297,-1881.0961 2992.6608,-1896.6282 2980.6683,-1867.1929 2964.9297,-1881.0961"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<polygon fill="#f2f2f2" stroke="#000000" points="63.7194,-1600.9 63.7194,-1860.1 492.6508,-1860.1 492.6508,-1600.9 63.7194,-1600.9"/>
<text text-anchor="middle" x="278.1851" y="-1843.5" font-family="Times,serif" font-size="14.00" fill="#000000">OptionsLP1155</text>
<polyline fill="none" stroke="#000000" points="63.7194,-1835.3 492.6508,-1835.3 "/>
<text text-anchor="start" x="71.7194" y="-1818.7" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="71.7194" y="-1801.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;_totalSupply: mapping(uint256=&gt;uint256)</text>
<text text-anchor="start" x="71.7194" y="-1785.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="71.7194" y="-1768.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;commitHash: string</text>
<polyline fill="none" stroke="#000000" points="63.7194,-1760.1 492.6508,-1760.1 "/>
<text text-anchor="start" x="71.7194" y="-1743.5" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="71.7194" y="-1726.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_mint(account: address, id: uint256, amount: uint256, data: bytes)</text>
<text text-anchor="start" x="71.7194" y="-1709.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_mintBatch(to: address, ids: uint256[], amounts: uint256[], data: bytes)</text>
<text text-anchor="start" x="71.7194" y="-1693.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_burn(account: address, id: uint256, amount: uint256)</text>
<text text-anchor="start" x="71.7194" y="-1676.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_burnBatch(account: address, ids: uint256[], amounts: uint256[])</text>
<text text-anchor="start" x="71.7194" y="-1659.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="71.7194" y="-1642.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(uri: string, _commitHash: string)</text>
<text text-anchor="start" x="71.7194" y="-1625.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;totalSupply(id: uint256): uint256</text>
<text text-anchor="start" x="71.7194" y="-1609.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;exists(id: uint256): bool</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge16" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M1424.3488,-1215.0019C1155.3128,-1314.6587 808.7818,-1451.4098 501.758,-1600.1767"/>
<polygon fill="#000000" stroke="#000000" points="500.153,-1597.0652 492.6861,-1604.5816 503.2106,-1603.3622 500.153,-1597.0652"/>
</g>
<!-- 1&#45;&gt;4 -->
<g id="edge14" class="edge">
<title>1&#45;&gt;4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1424.1087,-1128.3598C940.5862,-1216.0409 219.2325,-1380.101 55.1851,-1600.4 -13.884,-1693.1529 -22.2121,-1774.6738 55.1851,-1860.6 318.9346,-2153.4143 3299.4449,-2205.3854 3868.5877,-2212.6598"/>
<polygon fill="#000000" stroke="#000000" points="3868.7556,-2216.1621 3878.799,-2212.7888 3868.8441,-2209.1626 3868.7556,-2216.1621"/>
</g>
<!-- 1&#45;&gt;5 -->
<g id="edge15" class="edge">
<title>1&#45;&gt;5</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2277.2812,-1564.2764C2297.5071,-1589.7648 2316.3269,-1613.4813 2333.0519,-1634.558"/>
<polygon fill="#000000" stroke="#000000" points="2330.4002,-1636.847 2339.358,-1642.5047 2335.8836,-1632.4958 2330.4002,-1636.847"/>
</g>
<!-- 1&#45;&gt;6 -->
<g id="edge13" class="edge">
<title>1&#45;&gt;6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1860.4762,-1564.049C1861.6649,-1709.0841 1869.8037,-1835.1372 1893.1851,-1860.6 1936.6481,-1907.932 2197.598,-1941.0611 2473.5451,-1963.2456"/>
<polygon fill="none" stroke="#000000" points="2473.0269,-1973.7372 2503.7593,-1965.6272 2474.6772,-1952.8022 2473.0269,-1973.7372"/>
</g>
<!-- 7 -->
<g id="node16" class="node">
<title>7</title>
<polygon fill="#f2f2f2" stroke="#000000" points="510.188,-1600.9 510.188,-1860.1 1846.1822,-1860.1 1846.1822,-1600.9 510.188,-1600.9"/>
<text text-anchor="middle" x="1178.1851" y="-1843.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="1178.1851" y="-1826.7" font-family="Times,serif" font-size="14.00" fill="#000000">SwapPool</text>
<polyline fill="none" stroke="#000000" points="510.188,-1818.5 1846.1822,-1818.5 "/>
<text text-anchor="middle" x="1178.1851" y="-1801.9" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="510.188,-1793.7 1846.1822,-1793.7 "/>
<text text-anchor="start" x="518.188" y="-1777.1" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="518.188" y="-1760.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;sqrt(y: uint): (z: uint)</text>
<text text-anchor="start" x="518.188" y="-1743.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_addLiquidity(_swapRouter: IUniswapV2Router02, _collateralToken: IERC20, _hedgeToken: IERC20): (mintedSwapTokens: uint)</text>
<text text-anchor="start" x="518.188" y="-1726.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="518.188" y="-1709.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;addLiquidity(_from: address, _collateralToken: IERC20, _hedgeToken: IERC20, _underlyingToDeposit: uint, _swapFactory: IUniswapV2Factory, _swapRouter: IUniswapV2Router02): (mintedSwapTokens: uint)</text>
<text text-anchor="start" x="518.188" y="-1693.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getSwapAmount(r: uint, a: uint): uint</text>
<text text-anchor="start" x="518.188" y="-1676.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_swapTokens(_swapRouter: IUniswapV2Router02, _fromToken: IERC20, _toToken: IERC20, _amount: uint): (amounts: uint[])</text>
<text text-anchor="start" x="518.188" y="-1659.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;removeLiquidity(_to: address, _collateralToken: IERC20, _hedgeToken: IERC20, _amountToWithdraw: uint, _swapFactory: IUniswapV2Factory, _swapRouter: IUniswapV2Router02): (underlyingAmount: uint, hedgeAmount: uint)</text>
<text text-anchor="start" x="518.188" y="-1642.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;resetDeltaReserves(optionsLP: OptionsLP, poolId: uint)</text>
<text text-anchor="start" x="518.188" y="-1625.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setDeltaHedge(percent: uint, _toCollateral: bool, optionsLP: OptionsLP, poolId: uint): (collateralAmount: uint, hedgeAmount: uint, swapAmounts: uint[])</text>
<text text-anchor="start" x="518.188" y="-1609.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;withdrawDeltaReserves(percent: uint, _toCollateral: bool, optionsLP: OptionsLP, poolId: uint): (underlyingAmount: uint, hedgeAmount: uint, swapAmounts: uint[])</text>
</g>
<!-- 1&#45;&gt;7 -->
<g id="edge17" class="edge">
<title>1&#45;&gt;7</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1423.9235,-1486.1451C1384.7374,-1524.2935 1347.4487,-1560.7235 1314.2986,-1593.2644"/>
<polygon fill="#000000" stroke="#000000" points="1311.5317,-1591.0761 1306.8491,-1600.58 1316.4364,-1596.0705 1311.5317,-1591.0761"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4678.6633,-893.1 4678.6633,-1219.5 5313.7069,-1219.5 5313.7069,-893.1 4678.6633,-893.1"/>
<text text-anchor="middle" x="4996.1851" y="-1202.9" font-family="Times,serif" font-size="14.00" fill="#000000">Bond</text>
<polyline fill="none" stroke="#000000" points="4678.6633,-1194.7 5313.7069,-1194.7 "/>
<text text-anchor="start" x="4686.6633" y="-1178.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="4686.6633" y="-1161.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;bonds: Bond[]</text>
<text text-anchor="start" x="4686.6633" y="-1144.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;issuances: Issuance[]</text>
<polyline fill="none" stroke="#000000" points="4678.6633,-1136.3 5313.7069,-1136.3 "/>
<text text-anchor="start" x="4686.6633" y="-1119.7" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="4686.6633" y="-1102.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;buyBond(issuanceId: uint, payInAmount: uint, _maxPrice: uint, _depositor: address): uint</text>
<text text-anchor="start" x="4686.6633" y="-1086.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;redeemBond(bondId: uint): uint</text>
<text text-anchor="start" x="4686.6633" y="-1069.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setBondTerms(_issuanceId: uint, _parameter: PARAMETER, _input: uint)</text>
<text text-anchor="start" x="4686.6633" y="-1052.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="4686.6633" y="-1035.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; IssuanceCreated(payOutToken: IERC20, payInToken: IERC20, _amount: uint, issuanceId: uint)</text>
<text text-anchor="start" x="4686.6633" y="-1018.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BondCreated(despsitor: address, deposit: uint, payout: uint, expires: uint, bondId: uint)</text>
<text text-anchor="start" x="4686.6633" y="-1002.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BondRedeemed(bondId: uint, payout: uint, remaining: uint)</text>
<text text-anchor="start" x="4686.6633" y="-985.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ControlVariableAdjustment(initialBCV: uint, newBCV: uint, adjustment: uint, addition: bool)</text>
<text text-anchor="start" x="4686.6633" y="-968.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
<text text-anchor="start" x="4686.6633" y="-951.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;newIssuance(payInToken: IERC20, payOutToken: IERC20, _payOutTokenAvailable: uint)</text>
<text text-anchor="start" x="4686.6633" y="-934.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;bondPrice(issuanceId: uint): (price_: uint)</text>
<text text-anchor="start" x="4686.6633" y="-918.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;percentVestedFor(bondId: uint): (percentVested_: uint)</text>
<text text-anchor="start" x="4686.6633" y="-901.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;payoutFor(issuanceId: uint, payInAmount: uint): uint</text>
</g>
<!-- 3struct0 -->
<g id="node5" class="node">
<title>3struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4740.8986,-130.5 4740.8986,-381.7 4917.4716,-381.7 4917.4716,-130.5 4740.8986,-130.5"/>
<text text-anchor="middle" x="4829.1851" y="-365.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="4829.1851" y="-348.3" font-family="Times,serif" font-size="14.00" fill="#000000">Issuance</text>
<polyline fill="none" stroke="#000000" points="4740.8986,-340.1 4917.4716,-340.1 "/>
<text text-anchor="start" x="4748.8986" y="-323.5" font-family="Times,serif" font-size="14.00" fill="#000000">payOutToken: IERC20</text>
<text text-anchor="start" x="4748.8986" y="-306.7" font-family="Times,serif" font-size="14.00" fill="#000000">payInToken: IERC20</text>
<text text-anchor="start" x="4748.8986" y="-289.9" font-family="Times,serif" font-size="14.00" fill="#000000">owner: address</text>
<text text-anchor="start" x="4748.8986" y="-273.1" font-family="Times,serif" font-size="14.00" fill="#000000">treasury: address</text>
<text text-anchor="start" x="4748.8986" y="-256.3" font-family="Times,serif" font-size="14.00" fill="#000000">payOutTokenAvailable: uint</text>
<text text-anchor="start" x="4748.8986" y="-239.5" font-family="Times,serif" font-size="14.00" fill="#000000">payOutTokenBonded: uint</text>
<text text-anchor="start" x="4748.8986" y="-222.7" font-family="Times,serif" font-size="14.00" fill="#000000">vestingTerm: uint</text>
<text text-anchor="start" x="4748.8986" y="-205.9" font-family="Times,serif" font-size="14.00" fill="#000000">minimumPrice: uint</text>
<text text-anchor="start" x="4748.8986" y="-189.1" font-family="Times,serif" font-size="14.00" fill="#000000">startingPrice: uint</text>
<text text-anchor="start" x="4748.8986" y="-172.3" font-family="Times,serif" font-size="14.00" fill="#000000">startAt: uint</text>
<text text-anchor="start" x="4748.8986" y="-155.5" font-family="Times,serif" font-size="14.00" fill="#000000">expiresAt: uint</text>
<text text-anchor="start" x="4748.8986" y="-138.7" font-family="Times,serif" font-size="14.00" fill="#000000">priceDeductionRate: uint</text>
</g>
<!-- 3struct0&#45;&gt;3 -->
<g id="edge1" class="edge">
<title>3struct0&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M4855.4626,-382.0115C4883.4997,-516.3546 4928.1213,-730.1644 4959.5888,-880.9447"/>
<polygon fill="#000000" stroke="#000000" points="4959.6642,-881.3062 4964.8057,-886.3625 4962.1159,-893.0532 4956.9744,-887.9969 4959.6642,-881.3062"/>
</g>
<!-- 3struct1 -->
<g id="node6" class="node">
<title>3struct1</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4935.8909,-180.9 4935.8909,-331.3 5056.4793,-331.3 5056.4793,-180.9 4935.8909,-180.9"/>
<text text-anchor="middle" x="4996.1851" y="-314.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="4996.1851" y="-297.9" font-family="Times,serif" font-size="14.00" fill="#000000">Bond</text>
<polyline fill="none" stroke="#000000" points="4935.8909,-289.7 5056.4793,-289.7 "/>
<text text-anchor="start" x="4943.8909" y="-273.1" font-family="Times,serif" font-size="14.00" fill="#000000">issuanceId: uint</text>
<text text-anchor="start" x="4943.8909" y="-256.3" font-family="Times,serif" font-size="14.00" fill="#000000">payout: uint</text>
<text text-anchor="start" x="4943.8909" y="-239.5" font-family="Times,serif" font-size="14.00" fill="#000000">vesting: uint</text>
<text text-anchor="start" x="4943.8909" y="-222.7" font-family="Times,serif" font-size="14.00" fill="#000000">lastBlock: uint</text>
<text text-anchor="start" x="4943.8909" y="-205.9" font-family="Times,serif" font-size="14.00" fill="#000000">truePricePaid: uint</text>
<text text-anchor="start" x="4943.8909" y="-189.1" font-family="Times,serif" font-size="14.00" fill="#000000">depositor: address</text>
</g>
<!-- 3struct1&#45;&gt;3 -->
<g id="edge2" class="edge">
<title>3struct1&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M4996.1851,-331.3809C4996.1851,-456.1916 4996.1851,-709.1891 4996.1851,-880.7404"/>
<polygon fill="#000000" stroke="#000000" points="4996.1852,-880.9484 5000.1852,-886.9484 4996.1851,-892.9484 4992.1852,-886.9484 4996.1852,-880.9484"/>
</g>
<!-- 3enum0 -->
<g id="node7" class="node">
<title>3enum0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="5074.0529,-197.7 5074.0529,-314.5 5220.3173,-314.5 5220.3173,-197.7 5074.0529,-197.7"/>
<text text-anchor="middle" x="5147.1851" y="-297.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;enum&gt;&gt;</text>
<text text-anchor="middle" x="5147.1851" y="-281.1" font-family="Times,serif" font-size="14.00" fill="#000000">PARAMETER</text>
<polyline fill="none" stroke="#000000" points="5074.0529,-272.9 5220.3173,-272.9 "/>
<text text-anchor="start" x="5082.0529" y="-256.3" font-family="Times,serif" font-size="14.00" fill="#000000">VESTING: 0</text>
<text text-anchor="start" x="5082.0529" y="-239.5" font-family="Times,serif" font-size="14.00" fill="#000000">AVAILABLE: 1</text>
<text text-anchor="start" x="5082.0529" y="-222.7" font-family="Times,serif" font-size="14.00" fill="#000000">STARTING_PRICE: 2</text>
<text text-anchor="start" x="5082.0529" y="-205.9" font-family="Times,serif" font-size="14.00" fill="#000000">MINIMUM_PRICE: 3</text>
</g>
<!-- 3enum0&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>3enum0&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M5136.1429,-314.6164C5113.9506,-432.2212 5063.1694,-701.3278 5029.272,-880.9614"/>
<polygon fill="#000000" stroke="#000000" points="5029.2387,-881.1384 5032.0567,-887.776 5027.0134,-892.9302 5024.1954,-886.2926 5029.2387,-881.1384"/>
</g>
<!-- 5&#45;&gt;4 -->
<g id="edge19" class="edge">
<title>5&#45;&gt;4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2402.1395,-1818.3697C2400.4755,-1905.6123 2413.4071,-2036.1879 2495.1851,-2106.4 2599.2654,-2195.7601 3562.1257,-2210.7051 3868.8185,-2213.2008"/>
<polygon fill="#000000" stroke="#000000" points="3868.9854,-2216.7021 3879.0126,-2213.2811 3869.0406,-2209.7023 3868.9854,-2216.7021"/>
</g>
<!-- 5&#45;&gt;6 -->
<g id="edge18" class="edge">
<title>5&#45;&gt;6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2659.4118,-1818.1117C2728.205,-1842.1982 2803.6154,-1868.6016 2875.2505,-1893.6831"/>
<polygon fill="#000000" stroke="#000000" points="2874.2807,-1897.0518 2884.8756,-1897.0531 2876.594,-1890.4451 2874.2807,-1897.0518"/>
</g>
<!-- 5struct0 -->
<g id="node10" class="node">
<title>5struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2437.0641,-981.1 2437.0641,-1131.5 2625.3061,-1131.5 2625.3061,-981.1 2437.0641,-981.1"/>
<text text-anchor="middle" x="2531.1851" y="-1114.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="2531.1851" y="-1098.1" font-family="Times,serif" font-size="14.00" fill="#000000">Fees</text>
<polyline fill="none" stroke="#000000" points="2437.0641,-1089.9 2625.3061,-1089.9 "/>
<text text-anchor="start" x="2445.0641" y="-1073.3" font-family="Times,serif" font-size="14.00" fill="#000000">total: uint256</text>
<text text-anchor="start" x="2445.0641" y="-1056.5" font-family="Times,serif" font-size="14.00" fill="#000000">protocolFee: uint256</text>
<text text-anchor="start" x="2445.0641" y="-1039.7" font-family="Times,serif" font-size="14.00" fill="#000000">strikeFee: uint256</text>
<text text-anchor="start" x="2445.0641" y="-1022.9" font-family="Times,serif" font-size="14.00" fill="#000000">periodFee: uint256</text>
<text text-anchor="start" x="2445.0641" y="-1006.1" font-family="Times,serif" font-size="14.00" fill="#000000">balanceUtilisationFee: uint256</text>
<text text-anchor="start" x="2445.0641" y="-989.3" font-family="Times,serif" font-size="14.00" fill="#000000">poolFee: uint256</text>
</g>
<!-- 5struct0&#45;&gt;5 -->
<g id="edge4" class="edge">
<title>5struct0&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M2517.5453,-1131.6768C2495.4546,-1253.7549 2451.8461,-1494.7454 2427.219,-1630.8409"/>
<polygon fill="#000000" stroke="#000000" points="2427.1789,-1631.0624 2430.0466,-1637.6788 2425.0421,-1642.8706 2422.1745,-1636.2542 2427.1789,-1631.0624"/>
</g>
<!-- 6&#45;&gt;4 -->
<g id="edge20" class="edge">
<title>6&#45;&gt;4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3566.6945,-2105.9681C3679.401,-2136.6695 3792.7764,-2167.553 3869.0611,-2188.333"/>
<polygon fill="#000000" stroke="#000000" points="3868.5401,-2191.8185 3879.1085,-2191.0699 3870.38,-2185.0646 3868.5401,-2191.8185"/>
</g>
<!-- 6&#45;&gt;6 -->
<g id="edge21" class="edge">
<title>6&#45;&gt;6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3862.8041,-1985.1698C3874.2668,-1989.8974 3880.5453,-1995.3408 3880.5453,-2001.5 3880.5453,-2005.7344 3877.5777,-2009.6306 3871.9982,-2013.1884"/>
<polygon fill="#000000" stroke="#000000" points="3870.1535,-2010.1989 3862.8041,-2017.8302 3873.3083,-2016.4476 3870.1535,-2010.1989"/>
</g>
<!-- 6struct0 -->
<g id="node12" class="node">
<title>6struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2972.3881,-1621.7 2972.3881,-1839.3 3127.9821,-1839.3 3127.9821,-1621.7 2972.3881,-1621.7"/>
<text text-anchor="middle" x="3050.1851" y="-1822.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="3050.1851" y="-1805.9" font-family="Times,serif" font-size="14.00" fill="#000000">Option</text>
<polyline fill="none" stroke="#000000" points="2972.3881,-1797.7 3127.9821,-1797.7 "/>
<text text-anchor="start" x="2980.3881" y="-1781.1" font-family="Times,serif" font-size="14.00" fill="#000000">state: State</text>
<text text-anchor="start" x="2980.3881" y="-1764.3" font-family="Times,serif" font-size="14.00" fill="#000000">holder: address</text>
<text text-anchor="start" x="2980.3881" y="-1747.5" font-family="Times,serif" font-size="14.00" fill="#000000">strike: uint256</text>
<text text-anchor="start" x="2980.3881" y="-1730.7" font-family="Times,serif" font-size="14.00" fill="#000000">optionSize: uint256</text>
<text text-anchor="start" x="2980.3881" y="-1713.9" font-family="Times,serif" font-size="14.00" fill="#000000">lockedAmount: uint256</text>
<text text-anchor="start" x="2980.3881" y="-1697.1" font-family="Times,serif" font-size="14.00" fill="#000000">premium: uint256</text>
<text text-anchor="start" x="2980.3881" y="-1680.3" font-family="Times,serif" font-size="14.00" fill="#000000">expiration: uint256</text>
<text text-anchor="start" x="2980.3881" y="-1663.5" font-family="Times,serif" font-size="14.00" fill="#000000">optionType: OptionType</text>
<text text-anchor="start" x="2980.3881" y="-1646.7" font-family="Times,serif" font-size="14.00" fill="#000000">poolId: uint256</text>
<text text-anchor="start" x="2980.3881" y="-1629.9" font-family="Times,serif" font-size="14.00" fill="#000000">oracle: IOracle</text>
</g>
<!-- 6struct0&#45;&gt;6 -->
<g id="edge5" class="edge">
<title>6struct0&#45;&gt;6</title>
<path fill="none" stroke="#000000" d="M3103.7064,-1839.5547C3111.1992,-1854.822 3118.9208,-1870.5554 3126.4703,-1885.9383"/>
<polygon fill="#000000" stroke="#000000" points="3126.6445,-1886.2932 3132.8788,-1889.9172 3131.9314,-1897.0658 3125.6971,-1893.4418 3126.6445,-1886.2932"/>
</g>
<!-- 6struct1 -->
<g id="node13" class="node">
<title>6struct1</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3146.1416,-1663.7 3146.1416,-1797.3 3354.2286,-1797.3 3354.2286,-1663.7 3146.1416,-1663.7"/>
<text text-anchor="middle" x="3250.1851" y="-1780.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="3250.1851" y="-1763.9" font-family="Times,serif" font-size="14.00" fill="#000000">LockedCollateral</text>
<polyline fill="none" stroke="#000000" points="3146.1416,-1755.7 3354.2286,-1755.7 "/>
<text text-anchor="start" x="3154.1416" y="-1739.1" font-family="Times,serif" font-size="14.00" fill="#000000">amount: uint</text>
<text text-anchor="start" x="3154.1416" y="-1722.3" font-family="Times,serif" font-size="14.00" fill="#000000">premium: uint</text>
<text text-anchor="start" x="3154.1416" y="-1705.5" font-family="Times,serif" font-size="14.00" fill="#000000">locked: bool</text>
<text text-anchor="start" x="3154.1416" y="-1688.7" font-family="Times,serif" font-size="14.00" fill="#000000">poolId: uint</text>
<text text-anchor="start" x="3154.1416" y="-1671.9" font-family="Times,serif" font-size="14.00" fill="#000000">optionType: IOptions.OptionType</text>
</g>
<!-- 6struct1&#45;&gt;6 -->
<g id="edge6" class="edge">
<title>6struct1&#45;&gt;6</title>
<path fill="none" stroke="#000000" d="M3233.6233,-1797.4888C3227.0721,-1823.987 3219.3481,-1855.229 3211.94,-1885.1929"/>
<polygon fill="#000000" stroke="#000000" points="3211.8902,-1885.3946 3214.3332,-1892.1793 3209.0101,-1897.0438 3206.5671,-1890.2592 3211.8902,-1885.3946"/>
</g>
<!-- 6enum0 -->
<g id="node14" class="node">
<title>6enum0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3372.3937,-1672.1 3372.3937,-1788.9 3457.9765,-1788.9 3457.9765,-1672.1 3372.3937,-1672.1"/>
<text text-anchor="middle" x="3415.1851" y="-1772.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;enum&gt;&gt;</text>
<text text-anchor="middle" x="3415.1851" y="-1755.5" font-family="Times,serif" font-size="14.00" fill="#000000">State</text>
<polyline fill="none" stroke="#000000" points="3372.3937,-1747.3 3457.9765,-1747.3 "/>
<text text-anchor="start" x="3380.3937" y="-1730.7" font-family="Times,serif" font-size="14.00" fill="#000000">Inactive: 0</text>
<text text-anchor="start" x="3380.3937" y="-1713.9" font-family="Times,serif" font-size="14.00" fill="#000000">Active: 1</text>
<text text-anchor="start" x="3380.3937" y="-1697.1" font-family="Times,serif" font-size="14.00" fill="#000000">Exercised: 2</text>
<text text-anchor="start" x="3380.3937" y="-1680.3" font-family="Times,serif" font-size="14.00" fill="#000000">Expired: 3</text>
</g>
<!-- 6enum0&#45;&gt;6 -->
<g id="edge7" class="edge">
<title>6enum0&#45;&gt;6</title>
<path fill="none" stroke="#000000" d="M3399.1733,-1788.9453C3390.8801,-1812.654 3379.0919,-1839.3884 3363.1851,-1860.6 3356.0423,-1870.1249 3348.1016,-1879.3524 3339.6482,-1888.2214"/>
<polygon fill="#000000" stroke="#000000" points="3339.4543,-1888.4183 3338.0945,-1895.5001 3331.0344,-1896.9686 3332.3943,-1889.8869 3339.4543,-1888.4183"/>
</g>
<!-- 6enum1 -->
<g id="node15" class="node">
<title>6enum1</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3476.3576,-1680.5 3476.3576,-1780.5 3560.0126,-1780.5 3560.0126,-1680.5 3476.3576,-1680.5"/>
<text text-anchor="middle" x="3518.1851" y="-1763.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;enum&gt;&gt;</text>
<text text-anchor="middle" x="3518.1851" y="-1747.1" font-family="Times,serif" font-size="14.00" fill="#000000">OptionType</text>
<polyline fill="none" stroke="#000000" points="3476.3576,-1738.9 3560.0126,-1738.9 "/>
<text text-anchor="start" x="3484.3576" y="-1722.3" font-family="Times,serif" font-size="14.00" fill="#000000">Invalid: 0</text>
<text text-anchor="start" x="3484.3576" y="-1705.5" font-family="Times,serif" font-size="14.00" fill="#000000">Put: 1</text>
<text text-anchor="start" x="3484.3576" y="-1688.7" font-family="Times,serif" font-size="14.00" fill="#000000">Call: 2</text>
</g>
<!-- 6enum1&#45;&gt;6 -->
<g id="edge8" class="edge">
<title>6enum1&#45;&gt;6</title>
<path fill="none" stroke="#000000" d="M3507.7948,-1780.5926C3500.2145,-1806.9551 3487.5942,-1838.3345 3467.1851,-1860.6 3457.8365,-1870.799 3447.5856,-1880.3535 3436.6998,-1889.2918"/>
<polygon fill="#000000" stroke="#000000" points="3436.3856,-1889.5406 3434.1639,-1896.401 3426.9768,-1896.9888 3429.1984,-1890.1285 3436.3856,-1889.5406"/>
</g>
<!-- 7&#45;&gt;1 -->
<g id="edge22" class="edge">
<title>7&#45;&gt;1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1317.5158,-1600.8162C1347.7686,-1571.9163 1381.3545,-1539.6896 1416.6105,-1505.747"/>
<polygon fill="#000000" stroke="#000000" points="1419.383,-1507.9362 1424.1585,-1498.4786 1414.5275,-1502.8939 1419.383,-1507.9362"/>
</g>
<!-- 8 -->
<g id="node17" class="node">
<title>8</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3935.8993,-1939.1 3935.8993,-2063.9 4098.4709,-2063.9 4098.4709,-1939.1 3935.8993,-1939.1"/>
<text text-anchor="middle" x="4017.1851" y="-2047.3" font-family="Times,serif" font-size="14.00" fill="#000000">Oracle</text>
<polyline fill="none" stroke="#000000" points="3935.8993,-2039.1 4098.4709,-2039.1 "/>
<text text-anchor="middle" x="4017.1851" y="-2022.5" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="3935.8993,-2014.3 4098.4709,-2014.3 "/>
<text text-anchor="start" x="3943.8993" y="-1997.7" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="3943.8993" y="-1980.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;decimals(): uint8</text>
<text text-anchor="start" x="3943.8993" y="-1964.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;description(): string</text>
<text text-anchor="start" x="3943.8993" y="-1947.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;latestAnswer(): uint256</text>
</g>
<!-- 8&#45;&gt;4 -->
<g id="edge23" class="edge">
<title>8&#45;&gt;4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4000.9808,-2064.0193C3996.9553,-2079.5502 3992.539,-2096.5891 3988.1737,-2113.4315"/>
<polygon fill="none" stroke="#000000" points="3977.953,-2111.0152 3980.5901,-2142.6901 3998.2813,-2116.2842 3977.953,-2111.0152"/>
</g>
<!-- 9 -->
<g id="node18" class="node">
<title>9</title>
<polygon fill="#f2f2f2" stroke="#000000" points="5237.8765,-193.7 5237.8765,-318.5 5510.4937,-318.5 5510.4937,-193.7 5237.8765,-193.7"/>
<text text-anchor="middle" x="5374.1851" y="-301.9" font-family="Times,serif" font-size="14.00" fill="#000000">FakeUSDC</text>
<polyline fill="none" stroke="#000000" points="5237.8765,-293.7 5510.4937,-293.7 "/>
<text text-anchor="middle" x="5374.1851" y="-277.1" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="5237.8765,-268.9 5510.4937,-268.9 "/>
<text text-anchor="start" x="5245.8765" y="-252.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="5245.8765" y="-235.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;mintTo(account: address, amount: uint256)</text>
<text text-anchor="start" x="5245.8765" y="-218.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;mint(amount: uint256)</text>
<text text-anchor="start" x="5245.8765" y="-201.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;decimals(): uint8</text>
</g>
<!-- 10 -->
<g id="node19" class="node">
<title>10</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3578.1821,-1642.9 3578.1821,-1818.1 4622.1881,-1818.1 4622.1881,-1642.9 3578.1821,-1642.9"/>
<text text-anchor="middle" x="4100.1851" y="-1801.5" font-family="Times,serif" font-size="14.00" fill="#000000">TestCalc</text>
<polyline fill="none" stroke="#000000" points="3578.1821,-1793.3 4622.1881,-1793.3 "/>
<text text-anchor="start" x="3586.1821" y="-1776.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="3586.1821" y="-1759.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;utilisation: uint256</text>
<text text-anchor="start" x="3586.1821" y="-1743.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;putRatio: uint256</text>
<text text-anchor="start" x="3586.1821" y="-1726.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;callRatio: uint256</text>
<polyline fill="none" stroke="#000000" points="3578.1821,-1718.1 4622.1881,-1718.1 "/>
<text text-anchor="start" x="3586.1821" y="-1701.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="3586.1821" y="-1684.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getBalanceUtilisationFee(period: uint256, optionSize: uint256, strike: uint256, currentPrice: uint256, optionType: IOptions.OptionType, poolId: uint, oracle: IOracle): (fee: uint256)</text>
<text text-anchor="start" x="3586.1821" y="-1667.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="3586.1821" y="-1651.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setVals(_utilisation: uint256, _putRatio: uint256, _callRatio: uint256)</text>
</g>
<!-- 10&#45;&gt;4 -->
<g id="edge25" class="edge">
<title>10&#45;&gt;4</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3982.2747,-1818.1988C3959.879,-1841.0239 3939.5916,-1867.4893 3927.1851,-1896.6 3894.9639,-1972.2042 3911.8535,-2066.6978 3931.7476,-2132.7834"/>
<polygon fill="#000000" stroke="#000000" points="3928.5264,-2134.2135 3934.8289,-2142.7299 3935.2129,-2132.142 3928.5264,-2134.2135"/>
</g>
<!-- 10&#45;&gt;6 -->
<g id="edge24" class="edge">
<title>10&#45;&gt;6</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3803.7279,-1818.1117C3721.7258,-1842.3457 3631.7877,-1868.925 3546.4537,-1894.1436"/>
<polygon fill="#000000" stroke="#000000" points="3545.2067,-1890.8624 3536.6087,-1897.0531 3547.1907,-1897.5754 3545.2067,-1890.8624"/>
</g>
</g>
</svg>
